var fe=Object.defineProperty;var he=(s,e,t)=>e in s?fe(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var se=(s,e,t)=>(he(s,typeof e!="symbol"?e+"":e,t),t);import{w as le,v as ge,S as re,i as ie,s as ne,e as m,a as v,t as O,b as r,c as J,d as i,l as x,f as V,n as oe,g as K,r as pe,h as ee,j as _e,m as ve,k as Q,o as te,p as ye,q as X,u as be,x as we,y as ke}from"./vendor.8745d181.js";const De=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerpolicy&&(n.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?n.credentials="include":a.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(a){if(a.ep)return;a.ep=!0;const n=t(a);fetch(a.href,n)}};De();function Te(s={}){const{immediate:e=!1,onNeedRefresh:t,onOfflineReady:l,onRegistered:a,onRegisterError:n}=s;let o;const d=async(h=!0)=>{};return"serviceWorker"in navigator&&(o=new ge("/sw.js",{scope:"/",type:"classic"}),o.addEventListener("activated",h=>{h.isUpdate?window.location.reload():l==null||l()}),o.register({immediate:e}).then(h=>{a==null||a(h)}).catch(h=>{n==null||n(h)})),d}function Se(s={}){const{immediate:e=!0,onNeedRefresh:t,onOfflineReady:l,onRegistered:a,onRegisterError:n}=s,o=le(!1),d=le(!1),h=Te({immediate:e,onOfflineReady(){d.set(!0),l==null||l()},onNeedRefresh(){o.set(!0),t==null||t()},onRegistered:a,onRegisterError:n});return{needRefresh:o,offlineReady:d,updateServiceWorker:h}}const j={};j.callbacks=[];j.register=({callback:s,id:e})=>{if(j.callbacks.find(t=>t.id===e))return!1;j.callbacks.push({callback:s,id:e})};j.send=(s,e)=>{const t=j.callbacks.filter(l=>l.id===e);return t.length===0?!1:(t.map(({callback:l})=>{l(s)}),!0)};function $e(s){let e,t,l,a,n,o,d=s[0].displayDays()+"",h,A,p,I,W=s[0].displayTime()+"",R,k,M,q=s[0].displayTypeTime()+"",L,H,D,T,C,S=s[0].name+"",F,E,P,y,B=(s[0].disabled?"Desactivada.":s[0].displayLack())+"",N,$,u,b,c,g,f,U,z,G,Z,ae;return{c(){e=m("div"),t=m("div"),l=m("div"),a=m("b"),n=v(),o=m("span"),h=O(d),A=v(),p=m("div"),I=m("div"),R=O(W),k=v(),M=m("div"),L=O(q),D=v(),T=m("div"),C=m("span"),F=O(S),E=O(" -"),P=v(),y=m("span"),N=O(B),$=v(),u=m("div"),b=m("input"),g=v(),f=m("label"),U=O("Activar/Desactivar Alarma"),r(a,"class","alarm-template__days-circle"),r(l,"class","alarm-template__days"),r(I,"class","alarm-template__format-time"),r(M,"class",H=`alarm-template__type-time ${s[0].typeTimeState()}`),r(p,"class","alarm-template__time"),r(C,"class","alarm-template__name"),r(y,"class","alarm-template__rest"),r(T,"class","alarm-template__description"),r(t,"class","alarm-template__information"),r(b,"type","checkbox"),r(b,"id",c=`switch-${s[0].name}`),r(b,"class","alarm-template-toggle__input"),r(f,"for",z=`switch-${s[0].name}`),r(f,"class","alarm-template-toggle__label"),r(u,"class","alarm-template-toggle"),r(e,"class",G=`alarm-template__alarm ${s[0].disabled?"alarm-template__alarm--disabled":""}`)},m(_,w){J(_,e,w),i(e,t),i(t,l),i(l,a),i(l,n),i(l,o),i(o,h),i(t,A),i(t,p),i(p,I),i(I,R),i(p,k),i(p,M),i(M,L),i(t,D),i(t,T),i(T,C),i(C,F),i(C,E),i(T,P),i(T,y),i(y,N),i(e,$),i(e,u),i(u,b),b.checked=s[1],i(u,g),i(u,f),i(f,U),Z||(ae=[x(b,"change",s[2]),x(b,"change",s[4]),x(e,"click",s[3])],Z=!0)},p(_,[w]){w&1&&d!==(d=_[0].displayDays()+"")&&V(h,d),w&1&&W!==(W=_[0].displayTime()+"")&&V(R,W),w&1&&q!==(q=_[0].displayTypeTime()+"")&&V(L,q),w&1&&H!==(H=`alarm-template__type-time ${_[0].typeTimeState()}`)&&r(M,"class",H),w&1&&S!==(S=_[0].name+"")&&V(F,S),w&1&&B!==(B=(_[0].disabled?"Desactivada.":_[0].displayLack())+"")&&V(N,B),w&1&&c!==(c=`switch-${_[0].name}`)&&r(b,"id",c),w&2&&(b.checked=_[1]),w&1&&z!==(z=`switch-${_[0].name}`)&&r(f,"for",z),w&1&&G!==(G=`alarm-template__alarm ${_[0].disabled?"alarm-template__alarm--disabled":""}`)&&r(e,"class",G)},i:oe,o:oe,d(_){_&&K(e),Z=!1,pe(ae)}}}function Le(s,e,t){let l,{alarm:a}=e;const n=h=>{t(0,a.disabled=!h.target.checked,a),setTimeout(()=>{j.send("sort-alarms","Home")},550)},o=h=>{if([...h.target.classList].find(p=>p.toString().includes("toggle")))return!1;console.log("editAlarm: "+a.name)};function d(){l=this.checked,t(1,l),t(0,a)}return s.$$set=h=>{"alarm"in h&&t(0,a=h.alarm)},s.$$.update=()=>{s.$$.dirty&1&&t(1,l=!a.disabled)},[a,l,n,o,d]}class Ae extends re{constructor(e){super();ie(this,e,Le,$e,ne,{alarm:0})}}const ce=s=>({year:s.getFullYear(),month:s.getMonth(),date:s.getDate(),day:s.getDay(),hours:s.getHours(),minutes:s.getMinutes(),seconds:s.getSeconds(),timestamp:s.getTime()}),Y=["Domingo","Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado"];class de{constructor({name:e="",days:t=[],hours:l=0,minutes:a=0}){se(this,"displayDays",()=>{let e=this.days;return e.length===7?"Todos los d\xEDas":(e=e.map(t=>Y[t]),e.length===1?e[0]:(e=e.map(t=>t.substr(0,2)),e.join(" - ")))});this.name=e||"Sin nombre",this.days=t.length===0?[0,1,2,3,4,5,6]:t,this.hours=l||0,this.minutes=a||0,this.playing=!1,this.disabled=!1}_play(){return this.playing=!0}checkDay(e=[]){const{day:t}=ce(new Date);let l=this.days;if(e.length&&(l=l.filter(d=>!e.includes(d))),l.length===7)return[null,"everyDay"];const a=l.find(d=>Y[d]===Y[t]);if(a)return[null,Y[a]];let n=l.find(d=>d>t)||l.find(d=>d<t),o=n===t+1?"Tomorrow":Y[n];return[{msg:"An error has been ocurred."},o]}checkTime(){const{hours:e,minutes:t}=ce(new Date);return this.hours<e?this._play():this.hours===e&&this.minutes<=t?this._play():!1}displayTime(){const e=this.hours<10&&"0"+this.hours||this.hours,t=this.minutes<10&&"0"+this.minutes||this.minutes;return`${e}:${t}`}displayTypeTime(){return this.hours<12?"AM":"PM"}typeTimeState(){let e="";return e=this.hours>=0&&"sunrise"||e,e=this.hours>6&&"day"||e,e=this.hours>19&&"night"||e,e}displayLack(){let e=new Date;e.setHours(this.hours),e.setMinutes(this.minutes);const t=Date.now()-e.getTime(),[l,a]=this.checkDay([new Date().getDay()]);if(l||t<0){if(a==="Tomorrow")return"\xC9sta alarma se activar\xE1 ma\xF1ana.";if(a!=="Tomorrow")return`\xC9sta alarma se activar\xE1 el ${a.toString().toLowerCase()}.`}const n=ee(e),o=ee().diff(n,"hour"),d=ee().diff(n,"minute");return o?`Falta${o<2?"":"n"} ${o} hora${o<2?"":"s"}.`:`Falta${d<2?"":"n"} ${d} minuto${d<2?"":"s"}.`}}function me(s,e,t){const l=s.slice();return l[2]=e[t],l}function ue(s){let e,t;return e=new Ae({props:{alarm:s[2]}}),{c(){_e(e.$$.fragment)},m(l,a){ve(e,l,a),t=!0},p(l,a){const n={};a&1&&(n.alarm=l[2]),e.$set(n)},i(l){t||(Q(e.$$.fragment,l),t=!0)},o(l){te(e.$$.fragment,l),t=!1},d(l){ye(e,l)}}}function Re(s){let e,t,l,a,n,o,d,h,A,p,I,W,R,k,M,q,L,H,D,T,C,S,F,E,P,y,B,N,$=s[0],u=[];for(let c=0;c<$.length;c+=1)u[c]=ue(me(s,$,c));const b=c=>te(u[c],1,1,()=>{u[c]=null});return{c(){e=m("header"),t=m("div"),l=O(`Alarmadroide
    
    `),a=m("div"),n=m("div"),o=m("img"),h=v(),A=m("div"),p=m("img"),W=v(),R=m("div"),k=m("img"),q=v(),L=m("a"),L.textContent="Iniciar",H=v(),D=m("section"),T=m("h2"),T.textContent="Tus alarmas",C=v(),S=m("div");for(let c=0;c<u.length;c+=1)u[c].c();F=v(),E=m("div"),P=m("div"),y=m("img"),X(o.src,d=Me)||r(o,"src",d),r(o,"alt","HTML Logo"),r(o,"width","32"),r(o,"height","32"),r(n,"class","header-vendors__vendor"),X(p.src,I=He)||r(p,"src",I),r(p,"alt","CSS Logo"),r(p,"width","32"),r(p,"height","32"),r(A,"class","header-vendors__vendor"),X(k.src,M=Ce)||r(k,"src",M),r(k,"alt","Svelte Logo"),r(k,"width","32"),r(k,"height","32"),r(R,"class","header-vendors__vendor"),r(a,"class","header-vendors"),r(t,"class","header__logo"),r(L,"class","header__start"),r(L,"href","#!"),r(e,"class","header"),r(S,"class","alarms__container"),r(D,"class","alarms"),X(y.src,B=Ee)||r(y,"src",B),r(y,"alt","Add Icon"),r(y,"width","24"),r(y,"height","24"),r(P,"class","create-alarm__button icon"),r(E,"class","create-alarm")},m(c,g){J(c,e,g),i(e,t),i(t,l),i(t,a),i(a,n),i(n,o),i(a,h),i(a,A),i(A,p),i(a,W),i(a,R),i(R,k),i(e,q),i(e,L),J(c,H,g),J(c,D,g),i(D,T),i(D,C),i(D,S);for(let f=0;f<u.length;f+=1)u[f].m(S,null);J(c,F,g),J(c,E,g),i(E,P),i(P,y),N=!0},p(c,[g]){if(g&1){$=c[0];let f;for(f=0;f<$.length;f+=1){const U=me(c,$,f);u[f]?(u[f].p(U,g),Q(u[f],1)):(u[f]=ue(U),u[f].c(),Q(u[f],1),u[f].m(S,null))}for(ke(),f=$.length;f<u.length;f+=1)b(f);be()}},i(c){if(!N){for(let g=0;g<$.length;g+=1)Q(u[g]);N=!0}},o(c){u=u.filter(Boolean);for(let g=0;g<u.length;g+=1)te(u[g]);N=!1},d(c){c&&K(e),c&&K(H),c&&K(D),we(u,c),c&&K(F),c&&K(E)}}}const Me="https://orlandobricenob.github.io/alarmadroide/img/HTML5_logo_and_wordmark.svg",He="https://orlandobricenob.github.io/alarmadroide/img/CSS3_logo_and_wordmark.svg",Ce="https://orlandobricenob.github.io/alarmadroide/img/Svelte_logo_by_gengns.svg",Ee="https://orlandobricenob.github.io/alarmadroide/icons/add.png";function Ne(s,e,t){j.register({callback:n=>{n==="sort-alarms"&&a()},id:"Home"});let l=[new de({name:"Despertador",hours:4,minutes:30}),new de({name:"Ejercicios",days:[0,4],hours:21})];const a=()=>{const n=[...l];n.sort((o,d)=>{if(!o.disabled&&d.disabled)return-1;if(o.disabled===d.disabled)return o.hours-d.hours;if(o.disabled&&!d.disabled)return 1}),t(0,l=[...n])};return[l]}class Oe extends re{constructor(e){super();ie(this,e,Ne,Re,ne,{})}}Se({onRegistered:s=>{console.log(s)}});new Oe({target:document.getElementById("app")});
